class Solution {
    public int diameterOfBinaryTree(TreeNode root) {
        int diameter[]=new int[1];
        height(root,diameter);
        return diameter[0];
    }
    public int height(TreeNode root,int diameter[]) {
        if(root==null){
            return 0;
        }
        int leftHeight=height(root.left,diameter);
        int rightHeight=height(root.right,diameter);
        int d=leftHeight+rightHeight+2; //diameter
        diameter[0]=Math.max(diameter[0],d);
        return 1 + Math.max(leftHeight, rightHeight);
    }
}
